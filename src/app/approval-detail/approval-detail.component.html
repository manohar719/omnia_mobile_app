<div class="approval-detail-wrapper">
    <mat-card class="approval-detail-card">
        <mat-card-header>
            <mat-card-subtitle>{{loan_detail.type}}</mat-card-subtitle>
            <mat-card-title>
                <span>{{loan_detail.name}}</span>
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <p>SYSTEM ID: <span>{{loan_detail.system_id}}</span></p>
            <p>LOAN #: <span>{{loan_detail.loan_no}}</span></p>
        </mat-card-content>
        <cdk-accordion class="accordion">
            @for (item of loan_detail.details; track item; let index = $index) {
            <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordion-item" role="button" tabindex="0"
                [attr.id]="'accordion-header-' + index" [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + index">
                <div class="accordion-item-header" (click)="accordionItem.toggle()">
                    {{ item.title }}
                    <span class="accordion-item-description">
                        <mat-icon *ngIf="accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_less"></mat-icon>
                        <mat-icon *ngIf="!accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_more"></mat-icon>
                    </span>
                </div>
                <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + index" [attr.aria-labelledby]="'accordion-header-' + index">
                    <table>
                        <tbody>
                            @for (listItem of item.content; track listItem; let index_list = $index) {
                                <tr>
                                    <td>{{listItem.label}}</td>
                                    <td>{{listItem.value}}</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
            </cdk-accordion-item>
            }
        </cdk-accordion>
    </mat-card>
</div>
<div class="approval-actions">
    <button class="deny-btn"><mat-icon aria-hidden="false" aria-label="icon notes"
        fontIcon="close"></mat-icon> <span>Deny</span></button>
    <button class="approve-btn"><mat-icon aria-hidden="false" aria-label="icon notes"
        fontIcon="check"></mat-icon><span>Approve</span></button>
</div>