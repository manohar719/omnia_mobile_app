<div class="approval-detail-wrapper">
    <mat-card class="approval-detail-card">
        <mat-card-header>
            <mat-card-subtitle>{{loan_detail.type}}</mat-card-subtitle>
            <mat-card-title>
                <span>{{loan_detail.name}}</span>
            </mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <p>SYSTEM ID: <span>{{loan_detail.system_id}}</span></p>
            <p>LOAN #: <span>{{loan_detail.loan_no}}</span></p>
        </mat-card-content>
        <approval-title></approval-title>
        <cdk-accordion class="accordion">
            <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordion-item" role="button" tabindex="0"
                [attr.id]="'accordion-header-' + 0" [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + 0">
                <div class="accordion-item-header" (click)="accordionItem.toggle()">
                    Commission Detail
                    <span class="accordion-item-description">
                        <mat-icon *ngIf="accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_less"></mat-icon>
                        <mat-icon *ngIf="!accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_more"></mat-icon>
                    </span>
                </div>
                <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + 0" [attr.aria-labelledby]="'accordion-header-' + 0">
                    <table>
                        <tbody>
                            @for (listItem of loan_detail.content; track listItem; let index_list = $index) {
                                <tr>
                                    <td>{{listItem.label}}</td>
                                    <td>{{listItem.value}}</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
            </cdk-accordion-item>
            <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordion-item" role="button" tabindex="1"
                [attr.id]="'accordion-header-' + 1" [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + 1">
                <div class="accordion-item-header" (click)="accordionItem.toggle()">
                    Gross Commission Credits Collected
                    <span class="accordion-item-description">
                        <mat-icon *ngIf="accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_less"></mat-icon>
                        <mat-icon *ngIf="!accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_more"></mat-icon>
                    </span>
                </div>
                <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + 1" [attr.aria-labelledby]="'accordion-header-' + 1">
                    <table>
                        <tbody>
                            @for (listItem of loan_detail.content; track listItem; let index_list = $index) {
                                <tr>
                                    <td>{{listItem.label}}</td>
                                    <td>{{listItem.value}}</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
            </cdk-accordion-item>
            <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordion-item" role="button" tabindex="2"
                [attr.id]="'accordion-header-' + 2" [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + 2">
                <div class="accordion-item-header" (click)="accordionItem.toggle()">
                    Common Credits
                    <span class="accordion-item-description">
                        <mat-icon *ngIf="accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_less"></mat-icon>
                        <mat-icon *ngIf="!accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_more"></mat-icon>
                    </span>
                </div>
                <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + 2" [attr.aria-labelledby]="'accordion-header-' + 2">
                    <table>
                        <tbody>
                            
                        </tbody>
                    </table>

                </div>
            </cdk-accordion-item>
            <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordion-item" role="button" tabindex="3"
                [attr.id]="'accordion-header-' + 3" [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + 3">
                <div class="accordion-item-header" (click)="accordionItem.toggle()">
                    Common Paid Due
                    <span class="accordion-item-description">
                        <mat-icon *ngIf="accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_less"></mat-icon>
                        <mat-icon *ngIf="!accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_more"></mat-icon>
                    </span>
                </div>
                <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + 3" [attr.aria-labelledby]="'accordion-header-' + 3">
                    <table>
                        <tbody>
                            
                        </tbody>
                    </table>

                </div>
            </cdk-accordion-item>
            <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordion-item" role="button" tabindex="4"
                [attr.id]="'accordion-header-' + 4" [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + 4">
                <div class="accordion-item-header" (click)="accordionItem.toggle()">
                    Document
                    <span class="accordion-item-description">
                        <mat-icon *ngIf="accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_less"></mat-icon>
                        <mat-icon *ngIf="!accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_more"></mat-icon>
                    </span>
                </div>
                <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + 4" [attr.aria-labelledby]="'accordion-header-' + 4">
                    <ul class="list-item">
                        <li>
                            <document-list></document-list>
                        </li>
                        <li>
                            <document-list></document-list>
                        </li>
                        <li>
                            <document-list></document-list>
                        </li>
                    </ul>

                </div>
            </cdk-accordion-item>
            <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordion-item" role="button" tabindex="5"
                [attr.id]="'accordion-header-' + 5" [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + 5">
                <div class="accordion-item-header" (click)="accordionItem.toggle()">
                    Deal Comments
                    <span class="accordion-item-description">
                        <mat-icon *ngIf="accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_less"></mat-icon>
                        <mat-icon *ngIf="!accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_more"></mat-icon>
                    </span>
                </div>
                <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + 5" [attr.aria-labelledby]="'accordion-header-' + 5">
                    <ul class="list-item">
                        <li>
                            <comment-note></comment-note>
                        </li>
                    </ul>

                </div>
            </cdk-accordion-item>
            <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordion-item" role="button" tabindex="6"
                [attr.id]="'accordion-header-' + 6" [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + 6">
                <div class="accordion-item-header" (click)="accordionItem.toggle()">
                    Approval Change Log
                    <span class="accordion-item-description">
                        <mat-icon *ngIf="accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_less"></mat-icon>
                        <mat-icon *ngIf="!accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_more"></mat-icon>
                    </span>
                </div>
                <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + 6" [attr.aria-labelledby]="'accordion-header-' + 6">
                    <ul class="list-item">
                        <li>
                            <change-log></change-log>
                        </li>
                        <li>
                            <change-log></change-log>
                        </li>
                        <li>
                            <change-log></change-log>
                        </li>
                    </ul>

                </div>
            </cdk-accordion-item>
            <!-- @for (item of loan_detail.details; track item; let index = $index) {
            <cdk-accordion-item #accordionItem="cdkAccordionItem" class="accordion-item" role="button" tabindex="0"
                [attr.id]="'accordion-header-' + index" [attr.aria-expanded]="accordionItem.expanded"
                [attr.aria-controls]="'accordion-body-' + index">
                <div class="accordion-item-header" (click)="accordionItem.toggle()">
                    {{ item.title }}
                    <span class="accordion-item-description">
                        <mat-icon *ngIf="accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_less"></mat-icon>
                        <mat-icon *ngIf="!accordionItem.expanded" aria-hidden="false" aria-label="icon notes"
                            fontIcon="expand_more"></mat-icon>
                    </span>
                </div>
                <div class="accordion-item-body" role="region" [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + index" [attr.aria-labelledby]="'accordion-header-' + index">
                    <table>
                        <tbody>
                            @for (listItem of item.content; track listItem; let index_list = $index) {
                                <tr>
                                    <td>{{listItem.label}}</td>
                                    <td>{{listItem.value}}</td>
                                </tr>
                            }
                        </tbody>
                    </table>

                </div>
            </cdk-accordion-item>
            } -->
        </cdk-accordion>
    </mat-card>
</div>
<div class="approval-actions">
    <button class="deny-btn"><mat-icon aria-hidden="false" aria-label="icon notes"
        fontIcon="close"></mat-icon> <span>Deny</span></button>
    <button class="approve-btn"><mat-icon aria-hidden="false" aria-label="icon notes"
        fontIcon="check"></mat-icon><span>Approve</span></button>
</div>